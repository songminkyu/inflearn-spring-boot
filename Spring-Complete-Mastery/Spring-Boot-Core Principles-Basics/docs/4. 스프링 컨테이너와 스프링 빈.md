# ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ #4

<br/>

# âœ” ëª©ì°¨
* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„±
* ì»¨í…Œì´ë„ˆì— ë“±ë¡ëœ ëª¨ë“  ë¹ˆ ì¡°íšŒ
* ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ê¸°ë³¸
* ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ë™ì¼í•œ íƒ€ì…ì´ ë‘˜ ì´ìƒ
* ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ìƒì† ê´€ê³„
* BeanFactoryì™€ ApplicationContext
* ìŠ¤í”„ë§ ë¹ˆ ì„¤ì • ë©”íƒ€ ì •ë³´ - BeanDefinition

<br/>

# ğŸ’¡ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„±

```java
// ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„±
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```

* `ApplicationContext` ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¼ í•œë‹¤.
* `ApplicationContext` ëŠ” ì¸í„°í˜ì´ìŠ¤ë‹¤.
* `AnnotationConfigApplicationContext` ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ ê°ì²´ì´ë‹¤.
* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” XMLì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆê³ , ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ìë°” ì„¤ì • í´ë˜ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
* ì§ì „ì— AppConfig ë¥¼ ì‚¬ìš©í–ˆë˜ ë°©ì‹ì´ ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ ìë°” ì„¤ì • í´ë˜ìŠ¤ë¡œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“  ê²ƒ
ì´ë‹¤.

<br/>

> ### ì°¸ê³ 
> ë” ì •í™•íˆëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ë¶€ë¥¼ ë•Œ BeanFactory , ApplicationContext ë¡œ êµ¬ë¶„í•´ì„œ ì´ì•¼ê¸°í•œë‹¤.
> ë’¤ì—ì„œ ì„¤ëª…í•˜ê² ì§€ë§Œ, BeanFactory ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ê±°ì˜ ì—†ìœ¼ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ ApplicationContext ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¼ í•œë‹¤.

<br/>

## **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ìƒì„± ê³¼ì •**

**1. ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„±**

![c](https://user-images.githubusercontent.com/55661631/107005765-89a53c80-67d3-11eb-95ec-ce171f5f6f5b.PNG)

* `new AnnotationConfigApplicationContext(AppConfig.class)` ê³¼ ê°™ì´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ë•ŒëŠ” êµ¬ì„± ì •ë³´ë¥¼ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.
* ì—¬ê¸°ì„œëŠ” `AppConfig.class` ë¥¼ êµ¬ì„± ì •ë³´ë¡œ ì§€ì •í–ˆë‹¤.

<br/>

**2. ìŠ¤í”„ë§ ë¹ˆ ë“±ë¡**

![d](https://user-images.githubusercontent.com/55661631/107005949-ca04ba80-67d3-11eb-99a8-480da81f1b25.PNG)

* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì€ ì„¤ì • í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì‚¬ìš©í•´ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•œë‹¤.
* `@Bean` ì´ ë¶™ì€ ë©”ì†Œë“œëª…ì´ ë¹ˆ ì´ë¦„, ë¦¬í„´í•˜ëŠ” ê°ì²´ì˜ ì°¸ì¡°ê°’ì´ ë¹ˆ ê°ì²´ë¡œ ë“±ë¡ëœë‹¤.
* ë¹ˆ ì´ë¦„ì„ ì§ì ‘ ë¶€ì—¬í•  ìˆ˜ ë„ ìˆë‹¤. `@Bean(name="memberService2")`

<br/>

**3. ìŠ¤í”„ë§ ë¹ˆ ì˜ì¡´ê´€ê³„ ì„¤ì • - ì¤€ë¹„**

![e](https://user-images.githubusercontent.com/55661631/107006285-41d2e500-67d4-11eb-8e12-d3c808b0196f.PNG)

* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì„¤ì • ì •ë³´ë¥¼ ì°¸ê³ í•´ì„œ ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…(DI)í•œë‹¤.
* ë‹¨ìˆœíˆ ìë°” ì½”ë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ ê°™ì§€ë§Œ, ì°¨ì´ê°€ ìˆë‹¤. ì´ ì°¨ì´ëŠ” ë’¤ì— ì‹±ê¸€í†¤ ì»¨í…Œì´ë„ˆì—ì„œ ì„¤ëª…í•œë‹¤.

<br/>

> ### ì°¸ê³   
>ìŠ¤í”„ë§ì€ ë¹ˆì„ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ë‹¨ê³„ê°€ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. ê·¸ëŸ°ë° ì´ë ‡ê²Œ ìë°” ì½”ë“œë¡œ ìŠ¤í”„ë§ ë¹ˆ
ì„ ë“±ë¡í•˜ë©´ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ì˜ì¡´ê´€ê³„ ì£¼ì…ë„ í•œë²ˆì— ì²˜ë¦¬ëœë‹¤. ì—¬ê¸°ì„œëŠ” ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ê°œë…ì ìœ¼
ë¡œ ë‚˜ëˆ„ì–´ ì„¤ëª…í–ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì—ì„œ ë‹¤ì‹œ ì„¤ëª…í•˜ê² ë‹¤.

<br/>

<br/>

<br/>

# ğŸ’¡ ì»¨í…Œì´ë„ˆì— ë“±ë¡ëœ ëª¨ë“  ë¹ˆ ì¡°íšŒ

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ìŠ¤í”„ë§ ë¹ˆë“¤ì´ ì‹¤ì œë¡œ ì˜ ë“±ë¡ ëëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œì´ë‹¤.

```java
class ApplicationContextInfoTest {

    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(AppConfig.class);

    @Test
    @DisplayName("ëª¨ë“  ë¹ˆ ì¶œë ¥í•˜ê¸°")
    void findAllBean(){
        // ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡ëœ ëª¨ë“  ë¹ˆ ì •ë³´ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.
        String[] beanDefinitionNames = ac.getBeanDefinitionNames();
        for (String beanDefinitionName : beanDefinitionNames) {
            // íŠ¹ì • ì´ë¦„ì˜ ë¹ˆ ê°ì²´ë¥¼ ì¡°íšŒí•œë‹¤.
            Object bean = ac.getBean(beanDefinitionName);
            System.out.println("name : " + beanDefinitionName + ", object : " + bean);
        }
    }

    @Test
    @DisplayName("ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹ˆ ì¶œë ¥í•˜ê¸°")
    void findApplicationBean(){
        String[] beanDefinitionNames = ac.getBeanDefinitionNames();
        for (String beanDefinitionName : beanDefinitionNames) {
            BeanDefinition beanDefinition = ac.getBeanDefinition(beanDefinitionName);

            //Role ROLE_APPLICATION: ì§ì ‘ ë“±ë¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹ˆ
            //Role ROLE_INFRASTRUCTURE: ìŠ¤í”„ë§ì´ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¹ˆ
            if(beanDefinition.getRole() == BeanDefinition.ROLE_APPLICATION){
                Object bean = ac.getBean(beanDefinitionName);
                System.out.println("name : " + beanDefinitionName + ", object : " + bean);
            }
        }
    }
}
```

<br/>

<br/>

<br/>

# ğŸ’¡ ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ê¸°ë³¸

* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ì„œ ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ì¡°íšŒ ë°©ë²•
  * ac.getBean(ë¹ˆì´ë¦„, íƒ€ì…)
  * ac.getBean(íƒ€ì…)
* ì¡°íšŒ ëŒ€ìƒ ìŠ¤í”„ë§ ë¹ˆì´ ì—†ìœ¼ë©´ ì˜ˆì™¸ ë°œìƒ

```java
class ApplicationContextBasicFindTest {

    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(AppConfig.class);

    @Test
    @DisplayName("ë¹ˆ ì´ë¦„ìœ¼ë¡œ ì¡°íšŒ")
    void findBeanByName(){
        MemberService memberService = ac.getBean("memberService", MemberService.class);

        System.out.println("memberService : " + memberService);
        System.out.println("memberService getClass() : " + memberService.getClass());

        assertThat(memberService).isInstanceOf(MemberServiceImpl.class);
    }
    
    @Test
    @DisplayName("ì´ë¦„ì—†ì´ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ")
    void findBeanByType(){
        MemberService memberService = ac.getBean(MemberService.class);

        System.out.println("memberService : " + memberService);
        System.out.println("memberService getClass() : " + memberService.getClass());

        assertThat(memberService).isInstanceOf(MemberServiceImpl.class);
    }

    @Test
    @DisplayName("ì´ë¦„ì—†ì´ êµ¬ì²´ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ")
    // ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì—ëŠ” êµ¬í˜„ ê°ì²´ê°€ ë“±ë¡ë˜ê¸° ë•Œë¬¸ì— êµ¬ì²´ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ ê°€ëŠ¥.
    // ê·¸ëŸ¬ë‚˜ ì—­í™œê³¼ êµ¬í˜„ ì¤‘ì— ì—­í™œì— ì˜ì¡´í•´ì•¼í•˜ë¯€ë¡œ, ì´ ì½”ë“œëŠ” ì¢‹ì€ ì½”ë“œê°€ ì•„ë‹ˆë‹¤. ìœ ì—°ì„±ì´ ë–¨ì–´ì§„ë‹¤.
    void findBeanByType2(){
        MemberService memberService = ac.getBean("memberService", MemberServiceImpl.class);

        System.out.println("memberService : " + memberService);
        System.out.println("memberService getClass() : " + memberService.getClass());

        assertThat(memberService).isInstanceOf(MemberServiceImpl.class);
    }

    @Test
    @DisplayName("ë¹ˆ ì´ë¦„ìœ¼ë¡œ ì¡°íšŒX")
    // ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë„ ë§Œë“¤ì–´ì•¼í•œë‹¤.
    void findBeanByNameX(){
        assertThrows(NoSuchBeanDefinitionException.class,
                () -> ac.getBean("xxxx", MemberService.class));
    }
}
```

<br/>

<br/>

<br/>

# ğŸ’¡ ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ë™ì¼í•œ íƒ€ì…ì´ ë‘˜ ì´ìƒ

* íƒ€ì…ìœ¼ë¡œ ì¡°íšŒì‹œ ê°™ì€ íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ ë‘˜ ì´ìƒì´ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ë•ŒëŠ” ë¹ˆ ì´ë¦„ì„ ì§€ì •í•˜ì.
  
* `ac.getBeansOfType()` ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ íƒ€ì…ì˜ ëª¨ë“  ë¹ˆì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.

<br/>

```java
class ApplicationContextSameBeanFindTest {

    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(SameBeanConfig.class);

    @Test
    @DisplayName("íƒ€ì…ìœ¼ë¡œ ì¡°íšŒì‹œ ê°™ì€ íƒ€ì…ì´ ë‘˜ ì´ìƒ ìˆìœ¼ë©´, ì¤‘ë³µ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.")
    void findBeanByTypeDuplicate(){
        assertThrows(NoUniqueBeanDefinitionException.class,
                () -> ac.getBean(MemberRepository.class));
    }

    @Test
    @DisplayName("íƒ€ì…ìœ¼ë¡œ ì¡°íšŒì‹œ ê°™ì€ íƒ€ì…ì´ ë‘˜ ì´ìƒ ìˆìœ¼ë©´, ë¹ˆ ì´ë¦„ì„ ì§€ì •í•˜ë©´ ëœë‹¤.")
    void findBeanByName(){
        MemberRepository memberRepository = ac.getBean("memberRepository1", MemberRepository.class);
        assertThat(memberRepository).isInstanceOf(MemberRepository.class);
    }

    @Test
    @DisplayName("íŠ¹ì • íƒ€ì… ëª¨ë‘ ì¡°íšŒí•˜ê¸°")
    void findAllByType(){
        // íƒ€ì…ìœ¼ë¡œ ë¹ˆ ì¡°íšŒ
        Map<String, MemberRepository> beansOfType = ac.getBeansOfType(MemberRepository.class);
        
        for (String s : beansOfType.keySet()) {
            System.out.println("key = " + s + ", value = " + beansOfType.get(s));
        }
        System.out.println("beansOfType = " + beansOfType);
        assertThat(beansOfType.size()).isEqualTo(2);
    }

    // ë”°ë¡œ config í´ë˜ì„œ ìƒì„±
    @Configuration
    static class SameBeanConfig{
        @Bean
        public MemberRepository memberRepository1(){
            return new MemoryMemberRepository();
        }
        @Bean
        public MemberRepository memberRepository2(){
            return new MemoryMemberRepository();
        }
    }

}
```

<br/>

<br/>

<br/>

# ğŸ’¡ ìŠ¤í”„ë§ ë¹ˆ ì¡°íšŒ - ìƒì† ê´€ê³„

* ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•˜ë©´, ìì‹ íƒ€ì…ë„ í•¨ê»˜ ì¡°íšŒí•œë‹¤.
  
* ëª¨ë“  ìë°” ê°ì²´ì˜ ìµœê³  ë¶€ëª¨ì¸ Object íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•˜ë©´, ëª¨ë“  ìŠ¤í”„ë§ ë¹ˆì„ ì¡°íšŒí•œë‹¤.

```java
public class ApplicationContextExtendsFindTest {

    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(TestConfig.class);

    @Test
    @DisplayName("ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒì‹œ, ë“±ë¡ëœ ìì‹ì´ ë‘˜ ì´ìƒ ìˆìœ¼ë©´, ì¤‘ë³µì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.")
    void findByParentTypeDuplicate(){
        Assertions.assertThrows(NoUniqueBeanDefinitionException.class,
                ()-> ac.getBean(DiscountPolicy.class));
    }

    @Test
    @DisplayName("ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒì‹œ, ë“±ë¡ëœ ìì‹ì´ ë‘˜ ì´ìƒ ìˆìœ¼ë©´, ë¹ˆ ì´ë¦„ì„ ì§€ì •í•œë‹¤.")
    void findBeanBySubName(){
        DiscountPolicy rateDiscountPolicy = ac.getBean("RateDiscountPolicy", DiscountPolicy.class);
        DiscountPolicy fixDiscountPolicy = ac.getBean("FixDiscountPolicy", DiscountPolicy.class);

        assertThat(rateDiscountPolicy).isInstanceOf(DiscountPolicy.class);
        assertThat(fixDiscountPolicy).isInstanceOf(DiscountPolicy.class);
    }

    @Test
    @DisplayName("íŠ¹ì • í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ.")
    void findBeanBySubType(){
        DiscountPolicy rateDiscountPolicy = ac.getBean(RateDiscountPolicy.class);
        DiscountPolicy fixDiscountPolicy = ac.getBean(FixDiscountPolicy.class);

        assertThat(rateDiscountPolicy).isInstanceOf(RateDiscountPolicy.class);
        assertThat(fixDiscountPolicy).isInstanceOf(FixDiscountPolicy.class);
    }

    @Test
    @DisplayName("ë¶€ëª¨ íƒ€ì…ìœ¼ë¡œ ëª¨ë‘ ì¡°íšŒí•˜ê¸°")
    void findAllBeanByParentType(){
        Map<String, DiscountPolicy> beansOfType = ac.getBeansOfType(DiscountPolicy.class);
        assertThat(beansOfType.size()).isEqualTo(2);
    }

    @Test
    @DisplayName("Object íƒ€ì…ìœ¼ë¡œ ëª¨ë‘ ì¡°íšŒí•˜ê¸°")
    void findAllBeanByObjectType(){
        Map<String, Object> beansOfType = ac.getBeansOfType(Object.class);
        for (String s : beansOfType.keySet()) {
            System.out.println("key = " + s + ", value = " + beansOfType.get(s));
        }
    }

    @Configuration
    static class TestConfig{
        @Bean
        public DiscountPolicy RateDiscountPolicy(){
            return new RateDiscountPolicy();
        }

        @Bean
        public DiscountPolicy FixDiscountPolicy(){
            return new FixDiscountPolicy();
        }
    }
}
```

<br/>

<br/>

<br/>

# ğŸ’¡ BeanFactoryì™€ ApplicationContext

<br/>

![f](https://user-images.githubusercontent.com/55661631/107007864-72b41980-67d6-11eb-995f-dbe091f7c538.PNG)

<br/>

## **BeanFactory**

* ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ìµœìƒìœ„ ì¸í„°í˜ì´ìŠ¤ë‹¤.
  
* ìŠ¤í”„ë§ ë¹ˆì„ ê´€ë¦¬í•˜ê³  ì¡°íšŒí•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤.

<br/>

## **ApplicationContext**

* BeanFactory ê¸°ëŠ¥ì„ ëª¨ë‘ ìƒì†ë°›ì•„ì„œ ì œê³µí•œë‹¤.

* ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ë•ŒëŠ” ë¹ˆì€ ê´€ë¦¬í•˜ê³  ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì€ ë¬¼ë¡ ì´ê³ , ìˆ˜ ë§ì€ ë¶€ê°€ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤.
* `ApplicationContext` ì€ ë¶€ê°€ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
    * ë©”ì‹œì§€ì†ŒìŠ¤ë¥¼ í™œìš©í•œ êµ­ì œí™” ê¸°ëŠ¥
        * ì˜ˆë¥¼ ë“¤ì–´ì„œ í•œêµ­ì—ì„œ ë“¤ì–´ì˜¤ë©´ í•œêµ­ì–´ë¡œ, ì˜ì–´ê¶Œì—ì„œ ë“¤ì–´ì˜¤ë©´ ì˜ì–´ë¡œ ì¶œë ¥
    * í™˜ê²½ë³€ìˆ˜
        * ë¡œì»¬, ê°œë°œ, ìš´ì˜ë“±ì„ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬
    * ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë²¤íŠ¸
        * ì´ë²¤íŠ¸ë¥¼ ë°œí–‰í•˜ê³  êµ¬ë…í•˜ëŠ” ëª¨ë¸ì„ í¸ë¦¬í•˜ê²Œ ì§€ì›
    * í¸ë¦¬í•œ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
        * íŒŒì¼, í´ë˜ìŠ¤íŒ¨ìŠ¤, ì™¸ë¶€ ë“±ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒ

<br/>

<br/>

<br/>

# ğŸ’¡ ìŠ¤í”„ë§ ë¹ˆ ì„¤ì • ë©”íƒ€ ì •ë³´ - BeanDefinition

## **ìŠ¤í”„ë§ì€ ì–´ë–»ê²Œ ì´ëŸ° ë‹¤ì–‘í•œ ì„¤ì • í˜•ì‹ì„ ì§€ì›í•˜ëŠ” ê²ƒì¼ê¹Œ?**

<br/>

* BeanDefinition ì´ë¼ëŠ” ì¶”ìƒí™”ë¥¼ ì‚¬ìš©í•œë‹¤.
* **BeanDefinition ì„ ë¹ˆ ì„¤ì • ë©”íƒ€ì •ë³´ë¼ í•œë‹¤.**
* `@Bean` , `<bean>` ë‹¹ ê°ê° í•˜ë‚˜ì”© BeanDefinition(ë©”íƒ€ ì •ë³´)ê°€ ìƒì„±ëœë‹¤.
* **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì´ BeanDefinition(ë©”íƒ€ ì •ë³´)ì„ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ìƒì„±í•œë‹¤.**

<br/>

## **ê·¸ë¦¼ì„ í†µí•´ ê³¼ì •ì„ ìì„¸íˆ ì‚´í´ë³´ì**

<br/>


![g](https://user-images.githubusercontent.com/55661631/107008777-81e79700-67d7-11eb-8778-18319f8a6a8b.PNG)

* `AnnotationConfigApplicationContext` ëŠ” `AnnotatedBeanDefinitionReader` ë¥¼ ì‚¬ìš©í•´ì„œ
`AppConfig.class` ë¥¼ ì½ê³  `BeanDefinition` ì„ ìƒì„±í•œë‹¤.

* `GenericXmlApplicationContext` ëŠ” `XmlBeanDefinitionReader` ë¥¼ ì‚¬ìš©í•´ì„œ `appConfig.xml` ì„¤ì •
ì •ë³´ë¥¼ ì½ê³  `BeanDefinition` ì„ ìƒì„±í•œë‹¤.
* ìƒˆë¡œìš´ í˜•ì‹ì˜ ì„¤ì • ì •ë³´ê°€ ì¶”ê°€ë˜ë©´, `XxxBeanDefinitionReader`ë¥¼ ë§Œë“¤ì–´ì„œ `BeanDefinition` ì„ ìƒì„±
í•˜ë©´ ëœë‹¤.

<br/>

## **BeanDefinition ì •ë³´**

<br/>

* `BeanClassName` : ìƒì„±í•  ë¹ˆì˜ í´ë˜ìŠ¤ ëª…(ìë°” ì„¤ì • -AppConfig- ì²˜ëŸ¼ íŒ©í† ë¦¬ ì—­í• ì˜ ë¹ˆì„ ì‚¬ìš©í•˜ë©´ ì—†ë‹¤)

* `factoryBeanName` : íŒ©í† ë¦¬ ì—­í• ì˜ ë¹ˆì„ ì‚¬ìš©í•  ê²½ìš° ì´ë¦„, ì˜ˆ) AppConfig
* `factoryMethodName` : ë¹ˆì„ ìƒì„±í•  íŒ©í† ë¦¬ ë©”ì„œë“œ ì§€ì •, ì˜ˆ) memberService
* `Scope` : ì‹±ê¸€í†¤(ê¸°ë³¸ê°’)
* `lazyInit` : ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ë•Œ ë¹ˆì„ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì‹¤ì œ ë¹ˆì„ ì‚¬ìš©í•  ë•Œ ê¹Œì§€ ìµœëŒ€í•œ
ìƒì„±ì„ ì§€ì—°ì²˜ë¦¬ í•˜ëŠ”ì§€ ì—¬ë¶€
* `InitMethodName` : ë¹ˆì„ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ë¥¼ ì ìš©í•œ ë’¤ì— í˜¸ì¶œë˜ëŠ” ì´ˆê¸°í™” ë©”ì„œë“œ ëª…
* `DestroyMethodName` : ë¹ˆì˜ ìƒëª…ì£¼ê¸°ê°€ ëë‚˜ì„œ ì œê±°í•˜ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ ëª…
* `Constructor arguments`, `Properties` : ì˜ì¡´ê´€ê³„ ì£¼ì…ì—ì„œ ì‚¬ìš©í•œë‹¤. (ìë°” ì„¤ì • ì²˜ëŸ¼ íŒ©í† ë¦¬ ì—­í• 
ì˜ ë¹ˆì„ ì‚¬ìš©í•˜ë©´ ì—†ë‹¤.)

<br/>

> ### **ì°¸ê³ **
> * BeanDefinitionì„ ì§ì ‘ ìƒì„±í•´ì„œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡í•  ìˆ˜ ë„ ìˆë‹¤. í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œ BeanDefinitionì„ ì§ì ‘ ì •ì˜í•˜ê±°ë‚˜ ì‚¬ìš©í•  ì¼ì€ ê±°ì˜ ì—†ë‹¤. ì–´ë ¤ìš°ë©´ ê·¸ëƒ¥ ë„˜ì–´ê°€ë©´ ëœë‹¤.  
> * BeanDefinitionì— ëŒ€í•´ì„œëŠ” ë„ˆë¬´ ê¹Šì´ìˆê²Œ ì´í•´í•˜ê¸° ë³´ë‹¤ëŠ”, ìŠ¤í”„ë§ì´ ë‹¤ì–‘í•œ í˜•íƒœì˜ ì„¤ì • ì •ë³´ë¥¼ BeanDefinitionìœ¼ë¡œ ì¶”ìƒí™”í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì •ë„ë§Œ ì´í•´í•˜ë©´ ëœë‹¤.  
> * ê°€ë” ìŠ¤í”„ë§ ì½”ë“œë‚˜ ìŠ¤í”„ë§ ê´€ë ¨ ì˜¤í”ˆ ì†ŒìŠ¤ì˜ ì½”ë“œë¥¼ ë³¼ ë•Œ, BeanDefinition ì´ë¼ëŠ” ê²ƒì´ ë³´ì¼ ë•Œê°€ ìˆë‹¤.
>ì´ë•Œ ì´ëŸ¬í•œ ë©”ì»¤ë‹ˆì¦˜ì„ ë– ì˜¬ë¦¬ë©´ ëœë‹¤.

<br/>

<br/>

<br/>

# ì°¸ê³  

* [ì¸í”„ëŸ° ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬](https://www.inflearn.com/)